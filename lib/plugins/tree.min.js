!function(o){function r(e,n){var t,c,r;this.$sets=o.extend({data:[],menu:!1,draggable:!1,checkbox:!1,checked:'<i class="iconfont icon-checked"></i>',unchecked:'<i class="iconfont icon-unchecked"></i>',folder:'<i class="iconfont icon-folder"></i>',item:'<i class="iconfont icon-file"></i>',toggler:'<i class="iconfont icon-down"></i>'},n),t=this.$sets,(n=e).classList.add("tree"),n.innerHTML=function e(n,t){var c=0;var r=n.length;var o="";var i;for(;c<r;c++)i=n[c],o+='<li>                        <a class="li'+(i.open?' opened"':'"')+(i.href?d(i,t):"")+(i.attr?a(i.attr):"")+(i.children?" node-folder>":">")+u(t,i.checked)+l(i,t)+"<span node-name>"+(i.name||"Untitled")+"</span>"+(t.toggler&&i.children?"<span node-toggler>"+t.toggler+"</span>":"")+"</a>",i.children&&(o+="<ul>"+e(i.children,t)+"</ul>"),o+="</li>";return o}(t.data,t),c=this.$sets,o(r=e).on("click",function(e){for(var n=e.target;r!==n;){if(n.matches(".li")&&n.classList.toggle("opened"),c.checkbox&&n.matches("[node-checked]"))return e.stopPropagation(),e.preventDefault(),function(e,n,t,c){n.innerHTML=t?c.unchecked:c.checked,n.setAttribute("node-checked",!t);var r=n.parentNode,o=r.parentNode,i=o.parentNode;if(t)for(o.querySelectorAll('[node-checked="true"]').forEach(function(e){e.innerHTML=c.unchecked,e.setAttribute("node-checked",!1)});i!==e;)r=i.previousElementSibling,(n=r.querySelector('[node-checked="true"]'))&&(n.innerHTML=c.unchecked,n.setAttribute("node-checked",!1)),i=i.parentNode.parentNode;else for(o.querySelectorAll("[node-checked]").forEach(function(e){e.innerHTML=c.checked,e.setAttribute("node-checked",!0)});i!==e&&!i.querySelector('[node-checked="false"]');)r=i.previousElementSibling,(n=r.querySelector("[node-checked]"))&&(n.innerHTML=c.checked,n.setAttribute("node-checked",!0)),i=i.parentNode.parentNode;r=o=i=n=null}(r,n,"true"===n.getAttribute("node-checked"),c),!1;n=n.parentNode}}),e.$tree=this}function d(e,n){n=e.target||n.target;return' href="'+e.href+'"'+(n?' target="'+n+'"':"")}function a(e){var n,t="";for(n in e)t+=" data-"+n+"="+e[n];return t}function l(e,n){return!1!==e.icon&&(e.icon||(e.children?n.folder:n.item))||""}function u(e,n){return e.checkbox?'<span node-checked="'+(n?'true">':'false">')+(n?e.checked:e.unchecked)+"</span>":""}o.MASIV.tree=function(t,c){return this.each(function(e){var n=e.$tree;n?"function"==typeof n[t]&&n[t](c):new r(e,t)})}}(M,document);